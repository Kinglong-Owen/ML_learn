# 正则表达式的优化 

1. **编译缓存** ：

   反复使用编译对象时，应该在使用前，使用re.compile()方法来进行编译，这样在后面调用时不必每次重新编译。节省时间。尤其是在循环体中反复调用正则匹配时。

2. **锚点优化**：
   配合一些引擎的优化，应尽量将锚点单独凸显出来。对比^a|^b，其效率便不如^(a|b)

   同样的道理，系统也会处理行尾锚点优化。所以在写相关正则时，如果有可能的话，将锚点使用出来。

3. **量词优化：**

   引擎中的优化，会对如.* 这样的量词进行统一对待，而不是按照传统的回溯规则，所以，从理论上说'(?:.)*' 和'.*'是等价的，不过具体到引擎实现的时候，则会对'.*'进行优化。速度就产生了差异。

4. **尽量少使用 .* ** :

5. **使用非捕获型括号**：

6. **善用锚点符号**

7. **不滥用字符组,但是可以用字符组代替分支条件**：“[a-g]+”好于"(a|b|c|d|e|f|g)+"

8. **最可能的匹配表达式放在多选分支前面**

### 好用的核心公式

==’opening normal \*(special normal\*)\* closing'==

